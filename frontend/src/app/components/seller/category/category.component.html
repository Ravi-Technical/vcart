<section class="seller-dashboard">
  <div class="container">
    <div class="row">
      <div class="col-lg-3 p-0">
        <app-sidebar-menu></app-sidebar-menu>
      </div>
      <div class="col-lg-9 p-0">
        <div class="content-dashboard">
          <section class="add-product-page">
            <div class="container p-4">
              <div class="row justify-content-center">
                <div class="col-12">
                  <h3 *ngIf="flag" class="sucees-message"> {{displayMessage}} </h3>
                  <h3 *ngIf="flag1" class="delete-message"> {{displayMessage}} </h3>
                  
                </div>
                <div class="col-lg-12 mb-2">
                  <!-- Add New Category Form Here -->
                  <div *ngIf="!updateBtn">
                    <h4 class="text-left p-2">Add new category</h4>
                  <form #category="ngForm" (ngSubmit)="addCategory(category.value)">
                    <div class="row mb-4">
                      <div class="col-lg-6">
                        <input type="text" name="catName" class="form-control" placeholder="Add Category*" [(ngModel)]="catModel.catName" />
                      </div>
                      <div class="col-lg-6">
                        <input type="text" name="icon" class="form-control" placeholder="Icon" [(ngModel)]="catModel.icon" />
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-lg-6">
                        <input type="text" name="color" class="form-control" placeholder="Add Color" [(ngModel)]="catModel.color" />
                      </div>
                      <div class="col-lg-6">
                        <input type="submit" value="Submit" class="btn btn-primary" />
                      </div>
                    </div>
                  </form>
                </div>
                  <!-- Update Category From Here -->
                  <div *ngIf="updateBtn">
                    <h4 class="text-left p-2">Update category</h4>
                  <form #updateCat="ngForm" (ngSubmit)="updateCategory(updateCat.value)">
                    <div class="row mb-4">
                      <div class="col-lg-6">
                        <input type="text" name="catName" class="form-control" placeholder="Add Category*" [(ngModel)]="catModel.catName" />
                      </div>
                      <div class="col-lg-6">
                        <input type="text" name="icon" class="form-control" placeholder="Icon" [(ngModel)]="catModel.icon" />
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-lg-6">
                        <input type="text" name="color" class="form-control" placeholder="Add Color" [(ngModel)]="catModel.color" />
                      </div>
                      <div class="col-lg-6">
                        <input type="submit" *ngIf="!updateBtn" value="Submit" class="btn btn-primary" />
                        <input type="submit" *ngIf="updateBtn" value="Update" class="btn btn-info" />
                      </div>
                    </div>
                  </form>
                </div>
                </div>
              </div>

              <div class="row justify-content-center mt-4">
                <div class="col-12" *ngIf="categories.length == 0">
                  <h4 class="text-left p-2 mb-2">List of brand</h4>
                  <p class="ml-4"> Total {{ categories.length }} Category </p>
                  <h5 class="text-center pt-4">Category Not Available</h5>
                  </div>
                <div class="col-12" *ngIf="categories.length != 0">
                  <h4 class="text-left p-2 mb-2">List of category</h4>
                  <p> Total {{ categories.length }} category </p>
                  <div class="ddf">
                  <div class="table-responsive">
                    <table class="border table table-striped table-hover">
                      <thead>
                        <tr>
                          <th scope="col">#.</th>
                          <th scope="col">Name</th>
                          <th scope="col">Color</th>
                          <th scope="col">Icon</th>
                          <th scope="col">Action</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let cat of categories | paginate: { itemsPerPage: 5, currentPage: p }
                          let i = index">
                          <td>{{ (p - 1) * 5 + i + 1 }}.</td>
                          <td>{{ cat.catName }}</td>
                          <td>{{ cat.color }}</td>
                          <td>{{ cat.icon }}</td>
                          <td>
                            <a (click)="getCategory(cat.id)" class="btn btn-info">Update</a>
                            <a (click)="deleteCategory(cat.id)" class="btn btn-danger">Delete</a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="mt-4" style="display: flex;align-items: end; justify-content: end;">
                    <pagination-controls (pageChange)="p = $event"></pagination-controls>
                 </div>
                </div>
              </div>
            </div>
            </div>
          </section>
        </div>
      </div>
    </div>
  </div>
</section>
